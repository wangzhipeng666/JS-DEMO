<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>复选框（checkbox）全选/全不选/返选</title>
  <style>
    body,dl,dt,dd,p{margin:0;padding:0;}
    body{font-family:Tahoma;font-size:12px;}
    label,input,a{vertical-align:middle;}
    label{padding:0 10px 0 5px;}
    a{color:#09f;text-decoration:none;}
    a:hover{color:red;}
    dl{width:120px;margin:10px auto;padding:10px 5px;border:1px solid #666;border-radius:5px;background:#fafafa;}
    dt{padding-bottom:10px;border-bottom:1px solid #666;}
    dt label{font-weight:700;}
    p{margin-top:10px;}
  </style>
</head>
<body>
    <dl>
        <dt><input type="checkbox" id="checkAll" /><label>全选</label><a href="javascript:;">反选</a></dt>
        <dd>
            <p><input type="checkbox" name="item" /><label>选项（一）</label></p>
            <p><input type="checkbox" name="item" /><label>选项（二）</label></p>
            <p><input type="checkbox" name="item" /><label>选项（三）</label></p>
            <p><input type="checkbox" name="item" /><label>选项（四）</label></p>
            <p><input type="checkbox" name="item" /><label>选项（五）</label></p>
            <p><input type="checkbox" name="item" /><label>选项（六）</label></p>
            <p><input type="checkbox" name="item" /><label>选项（七）</label></p>
            <p><input type="checkbox" name="item" /><label>选项（八）</label></p>
            <p><input type="checkbox" name="item" /><label>选项（九）</label></p>
            <p><input type="checkbox" name="item" /><label>选项（十）</label></p>
        </dd>
    </dl>
    <center>1、切换全选/全不选文字；2、根据选中个数更新全选框状态；</center>
    <script>
      var boxes = document.querySelectorAll("input");
      var txt = document.querySelectorAll("label")[0];
      var reverse = document.querySelector("dt a");
      // 全选框状态
      var isCheckAll = function ()
      {
        for (var i = 1, n = 0; i < boxes.length; i++)
        {
          boxes[i].checked && n++;
        }
        boxes[0].checked = n == boxes.length - 1;
        txt.innerHTML = boxes[0].checked ? "全不选" : "全选"
      };
      
      // 全选、全不选
      boxes[0].onclick = function() {
        for(var i = 1;i < boxes.length;i++) {
          boxes[i].checked = this.checked;
        }
        isCheckAll();
      }
      // 反选
      reverse.onclick = function() {
        for(var i = 1;i < boxes.length;i++) {
          boxes[i].checked = !boxes[i].checked;
        }
        isCheckAll();
      }
      //根据复选个数更新全选框状态
      for (var i = 1; i < boxes.length; i++)
      {
        boxes[i].onclick = function ()
        {
          isCheckAll()
        }	
      }
    </script>
</body>
</html>